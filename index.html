<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Praktiki — Login</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div class="card login">
      <h2>Praktiki Demo</h2>
      <form id="loginForm">
        <label>Username</label>
        <input id="username" required />
        <label>Password</label>
        <input id="password" type="password" required />
        <button type="submit">Login</button>
        <div class="muted">Student demo: student / 12345 · Mentor demo: mentor / admin</div>
      </form>
    </div>
  </div>
<script>
document.getElementById('loginForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  const res = await fetch('http://127.0.0.1:8000/login', {
    method: 'POST',
    body: new URLSearchParams({username, password})
  });
  if(!res.ok){ alert('Login failed'); return; }
  const data = await res.json();
  if(data.role === 'student') window.location = 'student_dashboard.html';
  else if(data.role === 'mentor') window.location = 'mentor_dashboard.html';
});
</script>
</body>
</html>
